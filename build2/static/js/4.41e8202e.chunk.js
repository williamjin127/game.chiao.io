(this["webpackJsonpgame.chiao.io"]=this["webpackJsonpgame.chiao.io"]||[]).push([[4],{621:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var c=n(156),a=n(22),r=n(41),o=n.n(r),s=n(0),i=n(118),d=n.n(i),u=n(625),l=n(623),j=n(624),b=n(626),h=n(251),f=n(81),O=n(164),m=n(3);function p(){var e=Object(O.a)(),t=e.address,n=e.chainId,r=e.loading,i=e.connect,p=e.disconnect,x=Object(h.b)(),k=x.contracts.tokenContract,w=x.wrongNetwork,v=Object(f.b)().showSnackbar,I=Object(s.useState)({address:"",chainId:3}),y=Object(a.a)(I,2),S=y[0],C=y[1],g=Object(s.useState)(0),z=Object(a.a)(g,2),Y=z[0],A=z[1],E=function(){var e=Object(c.a)(o.a.mark((function e(){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k&&t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,k.methods.balanceOf(t).call();case 4:n=e.sent,c=parseInt(d.a.utils.fromWei("".concat(n),"ether")),A(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){t&&n?(H(),C({address:t,chainId:parseInt(n)})):C({address:"",chainId:3})}),[t,n,w]),Object(s.useEffect)((function(){k&&E()}),[k]);var H=function(){return t?!w||(v({severity:"error",message:"Please switch to Ethereum Ropsten Network"}),!1):(v({severity:"error",message:"Please connect your wallet."}),!1)};return Object(m.jsx)(u.a,{maxWidth:"sm",children:Object(m.jsxs)(l.a,{container:!0,flexDirection:"column",justifyContent:"center",children:[Object(m.jsx)(l.a,{item:!0,pt:3,children:t?Object(m.jsx)(j.a,{variant:"outlined",color:"secondary",onClick:p,children:"Disconnect"}):Object(m.jsx)(j.a,{disabled:r,variant:"outlined",color:"secondary",onClick:i,children:"Connect Wallet"})}),3!==S.chainId&&Object(m.jsx)(l.a,{item:!0,pt:3,children:Object(m.jsx)(b.a,{fontSize:18,mt:2,color:"red",children:"You need to switch to Ropsten network!"})}),t&&Y>1e8?Object(m.jsxs)(l.a,{item:!0,pt:3,children:[Object(m.jsx)(b.a,{fontSize:22,mt:2,children:"Information of your wallet."}),Object(m.jsxs)(b.a,{fontSize:18,mt:2,children:["Your Address: ",t]}),Object(m.jsxs)(b.a,{fontSize:18,mt:2,children:["Your CHIAO balance: ",Y]})]}):Object(m.jsxs)(l.a,{item:!0,pt:3,children:[Object(m.jsx)(b.a,{fontSize:18,mt:2,children:"You need to connect your Metamask and have 100M CHIAO token to see content."}),t&&Object(m.jsxs)(b.a,{fontSize:18,mt:2,children:["Your CHIAO balance: ",Y]})]})]})})}}}]);
//# sourceMappingURL=4.41e8202e.chunk.js.map